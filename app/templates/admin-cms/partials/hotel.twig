{% extends "base.html.twig" %}

{% block content %}
    <div class="row" id="mainHotel">
        <div class="col-lg-12">

            <section class="panel">
                <div class="panel-body">
                    <header class="panel-heading ">
                        Novo Registro
                        <span class="tools pull-right">
                                    <a class="fa fa-repeat box-refresh" href="javascript:;" onclick="resetForm('formHotel')"></a>
                                    <a class="t-collapse fa fa-chevron-down" href="javascript:;"></a>
                                </span>
                    </header>

                    <div class="panel-body">

                        <form role="form" id="formHotel" enctype="multipart/form-data">

                            <div class="form-group">
                                <label for="txtTariff">Tarifa (Vig&ecirc;ncia)</label>
                                <select class="form-control  select2" id="txtTariff" name="txtTariff">
                                    <option value="">Selecione uma opção</option>
                                    {% for tariff in data.tariffs %}
                                        <option value="{{ tariff.id }}">{{ tariff.description }} - {{ tariff.dateInit|date("d/m/Y") }} a {{ tariff.dateEnd|date("d/m/Y") }}</option>
                                    {% endfor %}
                                </select>
                            </div>


                            <div class="form-group">
                                <label for="txtDescription">Descri&ccedil;&atilde;o</label>
                                <input type="text" class="form-control" id="txtDescription" name="txtDescription" placeholder="Informe uma descrição do hotel">
                            </div>

                            <div class="form-group">
                                <input id="chkStatus" type="checkbox" name="chkStatus" class="form-control js-switch-blue"
                                       checked/>
                                <label for="chkStatus" class="control-label">Ativar/Inativar Registro</label>
                            </div>

                            <input type="hidden" id="txtHotelEdit" name="txtHotelEdit"/>

                            <button class="btn btn-success" type="submit" id="btnSalvar">Salvar</button>

                        </form>

                    </div>

                </div>

                <!-- Modal -->
                <div class="modal fade" id="removeData" data-toggle="modal" tabindex="-1" role="dialog" aria-labelledby="removeData"
                     aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;
                                </button>
                                <h4 class="modal-title">Cadastro::Hotel</h4>
                            </div>
                            <div class="modal-body">
                                <p>O registro será deletado.</p>
                                <p>Confirma operação?</p>
                                <input type="hidden" id="data-id"/>
                            </div>
                            <div class="modal-footer">
                                <button data-dismiss="modal" class="btn btn-send">Cancelar</button>
                                <button class="btn btn-danger" id="btnRemover">Remover</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- modal -->

            </section>

            <section class="panel">
                <header class="panel-heading ">
                    Lista de registros
                    <span class="tools pull-right">
                                    <a class="fa fa-repeat box-refresh" href="javascript:;" onclick="resetForm('formHotel')"></a>
                                    <a class="t-collapse fa fa-chevron-down" href="javascript:;"></a>
                                </span>
                </header>
                <table class="table colvis-data-table data-table">
                    <thead>
                    <tr>
                        <th width="5%">#</th>
                        <th width="35%">TARIFA</th>
                        <th width="35%">DESCRI&Ccedil;&Atilde;O</th>
                        <th width="10%">STATUS</th>
                        <th width="5%">AÇÃO</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for hotel in data.hotels %}
                        <tr>
                            <td>{{ hotel.id }}</td>
                            <td><b>{{ hotel.tariff.description }}</b> | ({{ hotel.tariff.dateInit ? hotel.tariff.dateInit.date|date("d/m/Y") : ' - '}} à {{ hotel.tariff.dateEnd ? hotel.tariff.dateEnd.date|date("d/m/Y") : ' - '}})</td>
                            <td>{{ hotel.description }}</td>


                            {% if hotel.enabled %}
                                <td><i class="fa fa-circle green"></i></td>
                            {% else %}
                                <td><i class="fa fa-circle red"></i></td>
                            {% endif %}
                            <td>
                                <button class="btn btn-primary btn-xs" id="btnEditHotel" data-id="{{ hotel.id }}"><i class="fa fa-pencil"></i></button>
                                <button class="btn btn-danger btn-xs" id="btnUpdateHotel" data-id="{{ hotel.id }}"><i class="fa fa-trash-o "></i></button>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </section>
        </div>
    </div>

{% endblock %}